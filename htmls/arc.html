<!DOCTYPE html>
<meta charset="utf-8">
<body>
<script src="./js/d3.min.js"></script>
<script>

var width = 800,
    height = 60,
    outerRadius=height/2;
    innerRadius=outerRadius-5;
    τ = 2 * Math.PI; // http://tauday.com/tau-manifesto

// An arc function with all values bound except the endAngle. So, to compute an
// SVG path string for a given angle, we pass an object with an endAngle
// property to the `arc` function, and it will return the corresponding string.
var arc1 = d3.svg.arc()
    .innerRadius(innerRadius)
    .outerRadius(outerRadius)
    .startAngle(0);

var arc2 = d3.svg.arc()
    .innerRadius(innerRadius-8)
    .outerRadius(outerRadius-8)
    .startAngle(0);


// Create the SVG container, and apply a transform such that the origin is the
// center of the canvas. This way, we don't need to position arcs individually.
var svg = d3.select("body").append("svg")
    .attr("width", width)
    .attr("height", height)
  //.append("g")
    //.attr("transform", "translate(" + width / 2 + "," + height / 2 + ")")

// Add the background arc, from 0 to 100% (τ).
/*
var background = svg.append("path")
    .datum({endAngle: τ})
    .style("fill", "#ddd")
    .attr("d", arc)
    .attr("transform", "translate(" + width / 2 + "," + height / 2 + ")")
    ;

// Add the foreground arc in orange, currently showing 12.7%.
var foreground = svg.append("path")
    .datum({endAngle: .37 * τ})
    .style("fill", "orange")
    .attr("d", arc)
    .attr("transform", "translate(" + width / 2 + "," + height / 2 + ")")
    ;
*/
/*
svg.append("path")
    .datum({endAngle: τ})
    .style("fill", "#ddd")
    .attr("d", arc)
    .attr("transform", "translate(" + 100 + "," + height / 2 + ")")
    ;
*/

//Add a serie of arcs
svg.selectAll('.background')
  .data([1,2,3,4,5,6,7,8])
  .enter()
  .append("path")
  .datum({endAngle: τ})
    .style("fill", "#eee")
    .attr("d", arc1)
    .attr("transform", function(d,i){
     // console.log(d,i);
      return "translate(" + (50+i*((width-50)/8)) + "," + height / 2 + ")";
    })
    ;

var aa=svg.selectAll('.foreground')
  .data([1,2,3,4,5,6,7,8])
  .enter()
  .append("path")
  .datum({endAngle:3.14})
    .style("fill", "orange")
    .attr("d", arc2)
    .attr("transform", function(d,i){
     // console.log(d,i);
      return "translate(" + (50+i*((width-50)/8)) + "," + height / 2 + ")";
    })
    ;
/*
aa
  .transition(500)
  .delay(function(d,i){return i*20;})
  .datum({endAngle:0.5})
  ;
*/

</script>